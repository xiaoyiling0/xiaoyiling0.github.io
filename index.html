<html>
<head>
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/map/js/china.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/map/js/province/jiangsu.js"></script>
</head>
<body readonly oncopy="return false" oncut="return false" onpaste="return false">
    <div id="c" style="position:absolute;width: 50%; height: 70%;top:10%;"></div>
    <div id="personList_c" style="position: absolute;top:70%"></div>
    <div id="p" style="position: absolute;width: 50%; height: 70%;top:10%;left:50%"></div>
    <div id="personList_p" style="position: absolute;top:70%;left:50%;"></div>
    <script>
        if (/Mobi|Android|iPhone/i.test(navigator.userAgent)) {         // 当前设备是移动设备
            document.getElementById('personList_c').style.top = '30%'
        }
        // 初始化echarts实例
        var China = echarts.init(document.getElementById("c"));
        var option_c = {
            title: {  //标题样式
                text: '2024年省句中14班学生去向表',
                x: "center",
                textStyle: {
                    fontSize: 20,
                    color: "red"
                },
            },
            tooltip: {  //这里设置提示框
                trigger: 'item',  //数据项图形触发
                backgroundColor: "red",  //提示框浮层的背景颜色。
                //字符串模板(地图): {a}（系列名称），{b}（区域名称），{c}（合并数值）,{d}（无）
                formatter: '地区：{b}<br/>人数：{c}'
            },
            series: [
                {
                    name: '人数',
                    type: 'map',
                    mapType: 'china',
                    roam: false,//是否开启鼠标缩放和平移漫游
                    itemStyle: {//地图区域的多边形 图形样式
                        normal: {//是图形在默认状态下的样式
                            label: {
                                show: true,//是否显示标签
                                textStyle: {
                                    color: "black"
                                }
                            }
                        },
                        zoom: 1,  //地图缩放比例,默认为1
                        emphasis: {//是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时
                            label: { show: true }
                        }
                    },
                    top: "3%",//组件距离容器的距离
                    data: [
                        { name: '北京', value: 0 },
                        { name: '天津', value: 0 },
                        { name: '上海', value: 2, itemStyle: {color: '#007ba7'}},
                        { name: '重庆', value: 0 },
                        { name: '河北', value: 0 },
                        { name: '河南', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '云南', value: 0 },
                        { name: '辽宁', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '黑龙江', value: 0 },
                        { name: '湖南', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '安徽', value: 1, itemStyle: {color: '#89cff0'} },
                        { name: '山东', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '新疆', value: 0 },
                        { name: '江苏', value: 38, itemStyle: {color: '#d92121'}},
                        { name: '浙江', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '江西', value: 0 },
                        { name: '湖北', value: 0 },
                        { name: '广西', value: 0 },
                        { name: '甘肃', value: 0 },
                        { name: '山西', value: 0 },
                        { name: '内蒙古', value: 0 },
                        { name: '陕西', value: 0 },
                        { name: '吉林', value: 0 },
                        { name: '福建', value: 0 },
                        { name: '贵州', value: 0 },
                        { name: '广东', value: 1, itemStyle: {color: '#89cff0'}},
                        { name: '青海', value: 0 },
                        { name: '西藏', value: 0 },
                        { name: '四川', value: 0 },
                        { name: '宁夏', value: 0 },
                        { name: '海南', value: 0 },
                        { name: '台湾', value: 0 },
                        { name: '香港', value: 0 },
                        { name: '澳门', value: 0 }
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        China.setOption(option_c);

        var peopleData = [  
        { name: '李博仪', province: '上海', university: '东华大学', subject:'能源与环境系统工程 '},
        { name: '李一豪', province: '山东', university: '哈尔滨工业大学（威海）', subject:'工科试验班'},
        { name: '刘阳', province: '安徽', university: '合肥工业大学', subject:'车辆工程'},  
        { name: '梅之谦', province: '河南', university: '河南财经政法大学', subject:'软件工程'},
        { name: '王润泽', province: '上海', university: '华东理工大学', subject:'药学'},
        { name: '包睿', province: '广东', university: '汕头大学', subject:'生物技术'},
        { name: '张一然', province: '浙江', university: '浙江工商大学', subject:'城乡规划'},
        { name: '邓岚予', province: '辽宁', university: '中国医科大学', subject:'临床医学'},
        { name: '张润达', province: '湖南', university: '中南大学', subject:'临床医学类'}
        ];  

        var peopleByProvince = {};  
        peopleData.forEach(person => {  
            if (!peopleByProvince[person.province]) {  
                peopleByProvince[person.province] = [];  
            }  
            peopleByProvince[person.province].push(person);  
        });

        China.on('click', function (params) {  
            if (params.componentType === 'series' && peopleByProvince[params.name]) {  
                let provinceName = params.name;  
                let personList_cHTML = '<ul>';  
                peopleByProvince[provinceName].forEach(person => {  
                    personList_cHTML += `<li>${person.province} - ${person.name} - ${person.university} - ${person.subject}</li>`;  
                });  
                personList_cHTML += '</ul>';  
                document.getElementById('personList_c').innerHTML = personList_cHTML;  
            }  
        });
    </script>
    
    <script>
        if (/Mobi|Android|iPhone/i.test(navigator.userAgent)) {         // 当前设备是移动设备
            document.getElementById('personList_p').style.top = '35%'
        }
        var Jiangsu = echarts.init(document.getElementById("p"));
        var option_p = {
            title: {  //标题样式
                text: '江苏分布图',
                x: "center",
                textStyle: {
                    fontSize: 20,
                    color: "red"
                },
            },
            tooltip: {  //这里设置提示框
                trigger: 'item',  //数据项图形触发
                backgroundColor: "red",  //提示框浮层的背景颜色。
                //字符串模板(地图): {a}（系列名称），{b}（区域名称），{c}（合并数值）,{d}（无）
                formatter: '地区：{b}<br/>人数：{c}'
            },
            series: [
                {
                    name: '人数',
                    type: 'map',
                    mapType: '江苏',
                    roam: false,//是否开启鼠标缩放和平移漫游
                    itemStyle: {//地图区域的多边形 图形样式
                        normal: {//是图形在默认状态下的样式
                            label: {
                                show: true,//是否显示标签
                                textStyle: {
                                    color: "black"
                                }
                            }
                        },
                        zoom: 1,  //地图缩放比例,默认为1
                        emphasis: {//是图形在高亮状态下的样式,比如在鼠标悬浮或者图例联动高亮时
                            label: { show: true }
                        }
                    },
                    top: "3%",//组件距离容器的距离
                    data: [
                        { name: '徐州市', value: 1,itemStyle: {color: '#89cff0'} },
                        { name: '连云港市', value: 0 },
                        { name: '宿迁市', value: 0 },
                        { name: '淮安市', value: 0 },
                        { name: '盐城市', value: 0 },
                        { name: '镇江市', value: 4, itemStyle: {color: '#007ba7'}},
                        { name: '扬州市', value: 2, itemStyle: {color: '#89cff0'}},
                        { name: '泰州市', value: 0 },
                        { name: '南通市', value: 0 },
                        { name: '南京市', value: 24, itemStyle: {color: '#d92121'}},
                        { name: '苏州市', value: 4, itemStyle: {color: '#007ba7'}},
                        { name: '常州市', value: 2, itemStyle: {color: '#89cff0'}},
                        { name: '无锡市', value: 1, itemStyle: {color: '#89cff0'}},
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        Jiangsu.setOption(option_p);

        var peopleData2 = [  
        { name: '吴双', city: '南京市', university: '东南大学', subject:'医学影像学 '},
        { name: '姜珍怡', city: '南京市', university: '河海大学', subject:'土木、水利与海洋工程'},
        { name: '肖文涛', city: '南京市', university: '河海大学', subject:'电子信息工程'},  
        { name: '徐子寒', city: '南京市', university: '河海大学', subject:'通信工程'},
        { name: '陈超', city: '南京市', university: '江苏警官学院', subject:'公安视听技术'},
        { name: '韩欣睿', city: '南京市', university: '南京财经大学', subject:'电子商务'},
        { name: '洪一诺', city: '南京市', university: '南京航空航天大学', subject:'自动化（中外合作办学）'},
        { name: '孙国亮', city: '南京', university: '南京航空航天大学', subject:'飞行技术'},
        { name: '王劭谦', city: '南京市', university: '南京理工大学', subject:'智能制造'},
        { name: '校睿', city: '南京市', university: '南京理工大学', subject:'材料类 '},
        { name: '许靖坤', city: '南京市', university: '南京农业大学', subject:'植物保护 '},
        { name: '赵晨曦', city: '南京市', university: '南京农业大学', subject:'应用化学 '},
        { name: '孙亦陈', city: '南京市', university: '南京审计大学', subject:'审计学（中外合作办学）'},
        { name: '殷雨婷', city: '南京市', university: '南京师范大学', subject:'数学类 '},
        { name: '胡恒', city: '南京市', university: '南京信息工程大学', subject:'大气科学类 '},
        { name: '徐英赫', city: '南京市', university: '南京信息工程大学', subject:'医学信息工程 '},
        { name: '陈恩东', city: '南京市', university: '南京医科大学', subject:'临床医学 '},
        { name: '孔令坤', city: '南京市', university: '南京医科大学', subject:'临床医学 '},
        { name: '林思雨', city: '南京市', university: '南京医科大学', subject:'生物医学工程 '},
        { name: '陈瑜', city: '南京市', university: '南京邮电大学', subject:'通信工程 '},
        { name: '窦悦然', city: '南京市', university: '南京邮电大学', subject:'光电信息科学与工程 '},
        { name: '徐耀林', city: '南京市', university: '南京邮电大学', subject:'物联网工程 '},
        { name: '戴成浩', city: '南京市', university: '南京中医药大学', subject:'中药学类 '},
        { name: '姚曼文', city: '南京市', university: '南京中医药大学', subject:'临床医学 '},
        { name: '陈杰', city: '苏州市', university: '苏州大学', subject:'智能测控工程 '},
        { name: '金定一', city: '苏州市', university: '苏州大学', subject:'数据科学与大数据技术 '},
        { name: '王智梁', city: '苏州市', university: '苏州大学', subject:'建筑环境与能源应用工程 '},
        { name: '闵忠奇', city: '苏州市', university: '苏州城市学院', subject:'光电信息科学与工程 '},
        { name: '陈优', city: '镇江市', university: '江苏大学', subject:'临床医学 '},
        { name: '范睿涵', city: '镇江市', university: '江苏大学', subject:'临床医学 '},
        { name: '任冉', city: '镇江市', university: '江苏大学', subject:'数学与应用数学 '},
        { name: '周星如', city: '镇江市', university: '江苏大学', subject:'生物科学 '},
        { name: '戴祺轩', city: '常州市', university: '常州大学', subject:'安全工程 '},
        { name: '段玉', city: '常州市', university: '常州大学', subject:'过程装备与控制工程 '},
        { name: '杨世雨', city: '无锡市', university: '无锡学院', subject:'计算机科学与技术 '},
        { name: '许昕奕', city: '徐州市', university: '徐州医科大学', subject:'临床医学 '},
        { name: '吕妍', city: '扬州市', university: '扬州大学', subject:'物理学 '},
        { name: '周童', city: '扬州市', university: '扬州大学', subject:'数学与应用数学（师范） '}
        ];  

        var peopleByCity = {};  
        peopleData2.forEach(person => {  
            if (!peopleByCity[person.city]) {  
                peopleByCity[person.city] = [];  
            }  
            peopleByCity[person.city].push(person);  
        });

        Jiangsu.on('click', function (params) {  
            if (params.componentType === 'series' && peopleByCity[params.name]) {  
                let cityName = params.name;  
                let personList_pHTML = '<ul>';  
                peopleByCity[cityName].forEach(person => {  
                    personList_pHTML += `<li>${person.city} - ${person.name} - ${person.university} - ${person.subject}</li>`;  
                });  
                personList_pHTML += '</ul>';  
                document.getElementById('personList_p').innerHTML = personList_pHTML;  
            }  
        });
    </script>
</body>
</html>
